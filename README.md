# CS 대응을 위한 RAG 시스템 쿡북 (with 리랭커)

최근 LLM을 활용한 RAG 시스템 구축이 활발해지면서, 방대한 데이터 속에서 사용자 질의에 가장 적합한 정보를 찾아내는 것이 핵심 과제로 떠오르고 있습니다. 특히 CS 분야에서는 정확하고 신뢰성 높은 답변이 매우 중요합니다. 그렇기에 이번 쿡북에서는 리랭커 API를 활용하여 CS 대응을 위한 RAG 시스템을 구현하는 간단한 방법을 소개합니다.

## 1. 리랭커 소개
리랭커는 사용자 쿼리에 대한 응답 품질을 결정하는 핵심적인 역할을 합니다. RAG 시스템 중 초기 검색 단계에서 얻는 문서들은 방대하고 때론 쿼리의 의도와 거리가 멀 수 있습니다. 이때 리랭커는 단순히 많은 검색 정보를 제공하는 것을 넘어, 검색 API로 불러온 결과값을 보정하고 가장 관련성 높은 정보만을 선별하여 압축해 LLM에 제공합니다.

이러한 선별 과정은 LLM에 불필요한 정보가 주입되는 것을 방지하고, 토큰 낭비를 줄이며, 결과적으로 더욱 신뢰도 높은 답변을 생성하도록 돕습니다.

## 2. 리랭커 작동 원리
리랭커는 초기 검색으로 얻은 많은 문서 중 사용자 쿼리와 관련성이 높은 문서를 다시 정렬하고 필터링하는 기술입니다. 쿼리와 각 문서를 심층적으로 분석하여 선별하며, 단순 단어 일치가 아니라 문맥, 질의 의도, 의미 관계까지 종합적으로 고려합니다. 이렇게 보정된 결과는 LLM에 전달되어 더욱 정확한 답변을 생성합니다.

### 주요 이점
- **정확도 향상**: 사용자 질문과 가장 관련성 높은 문서를 정확히 골라내어 RAG 시스템의 LLM에 주입합니다.
- **토큰 효율성**: LLM에 들어가는 정보량을 줄여 토큰을 효율적으로 사용하게 합니다. 이는 비용 절감과 함께 LLM 처리 속도 향상에도 기여합니다.
- **환각 현상 감소**: 불필요하거나 관련 없는 정보로 인한 LLM의 환각 현상을 줄여 답변의 정확성과 신뢰도를 극대화합니다.

## 3. 전체 흐름
```
검색 API 호출 → 리랭커 호출 (리랭커 API에 답변 생성 기능 포함, LLM 역할)
```

---

본 프로젝트는 리랭커 API와 LLM을 활용한 RAG 시스템의 기본 구조와 활용법을 예시 코드와 함께 제공합니다. 자세한 사용법은 `call_rankgen.py` 파일을 참고하세요. 